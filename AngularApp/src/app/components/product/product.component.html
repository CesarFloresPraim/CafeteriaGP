<div class="card">
  <div class="card-header">
    <strong class="card-title">Products</strong>
  </div>
  <div class="card-body">
    <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm)">
      <input type="hidden" name="_id" #_id_="ngModel" [(ngModel)]="_id">
      <div class="form-group col-sm-12">
        <div class="input-group">
          <div class="input-group-addon"><i class="fa fa-user"></i></div>
          <input type="text" placeholder="Name" name="name" #_name="ngModel" [(ngModel)]="name">&nbsp;
          <div class="input-group-addon"><i class="fa fa-font"></i></div>
          <input type="text" placeholder="Description" name="description" #_description="ngModel" [(ngModel)]="description">&nbsp;
          <div class="input-group-addon"><i class="fa fa-dollar"></i></div>
          <input type="text" placeholder="Price" name="price" #_price="ngModel" [(ngModel)]="price">
        </div>
      </div>
      <div class="input-group col-sm-5">
        <div class="input-group">
          <select class="form-control" id="selectName" (change)="categoryComponent.updateCategory($event.target.value)" name="type" #_type="ngModel" [(ngModel)]="type" style="display: block">
            <option value="">Category</option>
            <option *ngFor="let category of categoryComponent.categories" value="{{category._id}}" >{{category.name}}</option>
          </select> &nbsp;
          <i (click)="categoryComponent.createCategory(true)" class="fa fa-plus" style="color: #4dbd74"></i>&nbsp;
          <i (click)="categoryComponent.createCategory(false)" style="color: orange" class="fa fa-pencil"></i>&nbsp;
          <i (click)="categoryComponent.delCategory()" class="fa fa-trash-o" style="color: red"></i>
        </div>
      </div>
      <br>
      <p>Select units allowed for new product: </p>
      <div class="input-group col-sm-12">
        <div class="input-group col-sm-6 col-md-3"*ngFor="let unit of units">
          <input type="checkbox" (click)="toggleSelection($event, unit)" name="{{unit.name}}" value="{{unit._id}}">{{unit.name}}
        </div>
      </div>
      <br>
      <div class="form-actions form-group"><button type="submit" class="btn btn-success btn-sm">Submit</button></div>

    </form>
  </div>
</div>
<div style="height: 10px; margin-bottom: 8px; background-color: rgba(0, 151, 230,0.6)"></div>

<table id="bootstrap-data-table" class="table table-striped table-bordered">
  <thead>
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Price</th>
    <th>Category</th>
    <th>Units</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let prod of products">
    <td>{{prod.name}}</td>
    <td>{{prod.description}}</td>
    <td>${{prod.price}}</td>
    <td>{{prod.type}}</td>
    <td><div *ngFor="let un of prod.unit">{{un.name}},</div></td>
    <td><button (click)="onDelete(prod._id)" ><a><i class="fa fa-trash-o" style="color: red"></i></a></button>&nbsp;<button (click)="onUpdate(prod)"><a><i style="color: orange" class="fa fa-pencil"></i></a></button></td>
  </tr>
  </tbody>
</table>
